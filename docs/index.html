<!doctype html>
<html lang="en" dir="ltr">
<head>
<title>Vaken</title>
<meta charset="utf-8">


<meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="description" content="Next-gen hacker registration system">
  <meta name="image" content="">
  <meta itemprop="name" content="vaken">
  <meta itemprop="description" content="Next-gen hacker registration system">
  <meta itemprop="image" content="">
  <meta name="og:title" content="vaken">
  <meta name="og:description" content="Next-gen hacker registration system">
  <meta name="og:url" content="https://github.com/VandyHacks/vaken">
  <meta name="og:site_name" content="vaken">
  <meta name="og:type" content="website">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="white">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Playfair+Display:700i,900">
<link rel="stylesheet" href="style.css">


</head>
<body>
<div id="fiddly"><div class="body "><div class="container"><a href="https://github.com/VandyHacks/vaken" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header><h1>vaken</h1></header><h1 id="vaken"><a id="user-content-vaken" class="anchor" href="#vaken" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vaken</h1>
<p>Next-gen hacker registration system</p>
<h2 id="dev"><a id="user-content-dev" class="anchor" href="#dev" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dev</h2>
<pre><code class="bash language-bash">npm i -g tsc # install TypeScript globally
npm i # install all dependencies

npm start # start server no autoreload
npm run dev # start server w/ autoreload

npm run lint # check linting errors
npm run lint-fix # lints, and autofixes for some rules</code></pre>
<h2 id="codestructure"><a id="user-content-codestructure" class="anchor" href="#codestructure" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Code structure</h2>
<ul>
<li><code>/dist</code> - output of <code>tsc</code> build</li>
<li><code>/src</code> - main server code<ul>
<li><code>/auth</code> auth helpers</li>
<li><code>/email</code> email sending</li>
<li><code>/events</code> manage events at hackathon</li>
<li><code>/settings</code> admin settings</li>
<li><code>/stats</code> admin statistics about users</li>
<li><code>/users</code> code for users</li></ul></li>
<li><code>/test</code> - tests</li>
</ul>
<h2 id="devtooling"><a id="user-content-devtooling" class="anchor" href="#devtooling" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dev Tooling</h2>
<ul>
<li><p><a href="https://github.com/whitecolor/ts-node-dev" target="_blank">ts-node-dev</a> - server autoreloading on changes, saves a lot of time compared to manually restarting the server each time a tiny bit of code is changed. It is much faster than <code>node-dev</code> + <code>ts-node</code>, and also faster than <code>nodemon</code> due to better caching of results.</p></li>
<li><p><a href="https://github.com/TypeStrong/ts-node" target="_blank">ts-node</a> - Compiles and runs app (is basically <code>tsc</code> + <code>node</code>), without server reload.</p></li>
<li><p><a href="https://www.npmjs.com/package/tslint" target="_blank">tslint</a> + <a href="https://www.npmjs.com/package/tslint-config-airbnb" target="_blank">tslint-config-airbnb</a> - linting, is TypeScript's equivalent of <code>eslint</code>, to enforce best code practices. The AirBnB config was chosen because it's pretty standard and has nice defaults. Config stored in <code>tslint.json</code>.</p></li>
<li><p><a href="https://www.npmjs.com/package/prettier" target="_blank">prettier</a> + <a href="https://www.npmjs.com/package/tslint-config-prettier" target="_blank">tslint-prettier</a>- pretty standard code formatting favoring convention over configuration, see <a href="https://alexjover.com/blog/use-prettier-with-tslint-and-be-happy/" target="_blank">philosophy</a>, to ensure all code is consistently formatted throughout the repo.</p></li>
<li><p><a href="https://github.com/typicode/husky" target="_blank">husky</a> - precommit hooks + prepush hooks (see <code>package.json</code>) in order to run formatting/linting/compiling before code is committed or pushed, to maintain code quality.</p></li>
<li><p><a href="https://www.npmjs.com/package/lint-staged" target="_blank">lint-staged</a> - automatically fixes linting errors and formatting errors, and amends your commit automatically. Works in conjunction with <code>husky</code>.</p></li>
</ul>
<h2 id="techdecisions"><a id="user-content-techdecisions" class="anchor" href="#techdecisions" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tech decisions</h2>
<p><a href="https://www.typescriptlang.org/" target="_blank">TypeScript</a> - like JavaScript, but with types + classes/OOP, so it's more maintainable and creates easier to understand code.</p>
<p><a href="https://koajs.com/" target="_blank">Koa</a> - made by the guys that made Express.js, but with async/await and ES7, as well as more modular plugin structure. See <a href="https://github.com/koajs/koa/blob/master/docs/koa-vs-express.md" target="_blank">Koa vs Express</a>.</p>
<p><a href="https://www.npmjs.com/package/mongodb" target="_blank">MongoDB</a> - A NoSQL database that is easy to use with JavaScript, due to its ability to basically store JSON (JavaScript objects) directly.</p>
<p><a href="https://mongoosejs.com/" target="_blank">Mongoose</a> - The most popular ORM for MongoDB. It is a much easier way to do DB operations than raw Mongo queries, and allows DB schemas/models to be more easily written and enforced.</p>
<p><a href="https://github.com/szokodiakos/typegoose" target="_blank">Typegoose</a> - A TypeScript wrapper on top of Mongoose, so that we wouldn't have to specify models in two places, reducing redundancy. Works by using <a href="https://www.npmjs.com/package/reflect-metadata" target="_blank">reflect-metadata</a>. See <a href="https://github.com/szokodiakos/typegoose#motivation" target="_blank">motivation</a>.</p>
<p><a href="https://www.npmjs.com/package/simple-oauth2" target="_blank">simple-oauth2</a> - may change, for OAuth2 (eg. Github or Google SSO login). Should result in more readable + maintainable code than implementing an ad-hoc OAuth2 client from scratch.</p>
<p><a href="https://www.npmjs.com/package/koa-joi-router" target="_blank">koa-router</a> - Just gets the job done, nothing fancy. It is possible to use regex for defining routes (see <a href="https://github.com/pillarjs/path-to-regexp)." target="_blank">https://github.com/pillarjs/path-to-regexp).</a></p>
<p><a href="https://www.npmjs.com/package/koa-helmet" target="_blank">koa-helmet</a> - Koa's version of <a href="https://www.npmjs.com/package/helmet" target="_blank">helmet</a>, which provides some good server-side security default configurations for web apps.</p>
<p><a href="https://github.com/koajs/bunyan-logger" target="_blank">bunyan-logger</a> - Koa-specific thin wrapper around <a href="https://github.com/trentm/node-bunyan" target="_blank">bunyan</a>. Logs URL route info on each server request in machine-parseable JSON format.</p>
<h3 id="testing"><a id="user-content-testing" class="anchor" href="#testing" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing</h3>
<p><a href="https://github.com/visionmedia/supertest" target="_blank">supertest</a> - for testing API by simulating HTTP requests, works in conjunction with Jest.</p>
<p><a href="https://jestjs.io/" target="_blank">jest</a> - nice widely used testing framework. Config is in <a href="./jest.config.js" target="_blank">./jest.config.js</a>. NOTE: The TypeScript tests are also recompiled for commit hooks, but not for server reload.</p>
<p>NOTE: (don't need Webpack or Babel b/c <code>tsc</code> can handle es6 and stuff)</p>
<hr />
<p>Run <code>fiddly</code> to deploy this README to the <a href="https://vandyhacks.github.io/vaken/" target="_blank">docs site</a>. Created via <a href="https://github.com/SaraVieira/fiddly" target="_blank">SaraVieira/fiddly</a> (<code>npm i -g fiddly</code> if you haven't already).</p></div></div></div>
<script src="https://unpkg.com/prismjs@1.15.0/prism.js"></script>
<script src="https://unpkg.com/prismjs@1.15.0/components/prism-json.min.js"></script>
<script src="https://unpkg.com/prismjs@1.15.0/components/prism-bash.min.js"></script>
<script src="https://unpkg.com/prismjs@1.15.0/components/prism-markdown.min.js"></script>

</body>
</html>
